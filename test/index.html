<!DOCTYPE html>
<html lang="ru-RU">
    <head>
        <meta charset="utf-8">
        <title>jQuery inputarrow plugin</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    </head>
    <body>
        <p style="text-align: center;">
            <input type="text" name="" value="0 руб." class="inputarrow">
        </p>

        <style>
            .inputarrow-prev,
            .inputarrow-next {
                color: #000;
                cursor: pointer;
                user-select: none;
            }
            .inputarrow-prev {
                margin-right: 8px;
            }
            .inputarrow-next {
                margin-left: 8px;
            }
            .inputarrow-disabled {
                color: #aaa;
                cursor: not-allowed;
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
        <script src="../dist/jquery.inputarrow.js"></script>
        <script>
            $('.inputarrow').inputarrow({
                min: -100,
                max: 100,
                step: 1,
                comma: true,
                onChange: function(newValue, oldValue) {
                    console.info('onChange', newValue, oldValue);
                },
                onIterate: function(newValue, oldValue) {
                    console.info('onIterate', newValue, oldValue);
                },
                encodeValue: function(value) {
                    return value.replace(/^(.*?)\sbananas?$/, '$1');
                },
                decodeValue: function(value) {
                    var unit = (value != 1) ? 'bananas' : 'banana';
                    return value + ' ' + unit;
                }
            }).on('change', function(e) {
                console.info('change', this.value);
            });
        </script>
    </body>
</html>
